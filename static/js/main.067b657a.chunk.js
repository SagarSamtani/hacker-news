(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{43:function(e,t,n){e.exports=n(82)},48:function(e,t,n){var a={"./hacker-news-logo.gif":49,"./upvote-arrow-img.gif":50};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=48},49:function(e,t){e.exports="data:image/gif;base64,R0lGODlhEgASAKIAAP/jyvihV/aKLfmxc/////9mAAAAAAAAACH5BAAAAAAALAAAAAASABIAAAMpWLrc/jDKOQkRy8pBhuKeRAAKQFBBxwVUYY5twXVxodV3nLd77f9ASQIAOw=="},50:function(e,t){e.exports="data:image/gif;base64,R0lGODlhFAAUAJEAAP///8zMzJmZmQAAACH5BAEAAAAALAAAAAAUABQAAAIxhI+py+0Po0QhzCPEBSHbmWVTF35QGEYkajYo+qxvq7xvI9s0Zt9K3qMBe4LWMGgoAAA7"},51:function(e,t,n){},52:function(e,t,n){},60:function(e,t,n){},78:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),s=n(41),i=n(17),u=function(e){var t=e.imageName,a=e.imageAlt,o=e.imageClassName,c=e.handleClick;return r.a.createElement("img",{alt:a||t,className:o,src:n(48)("./".concat(t)),onClick:c})};u.defaultProps={imageAlt:"",imageClassName:"default-image-class"};var l=u,m=(n(51),function(e){e.history;var t=Object(a.useState)("top"),n=Object(i.a)(t,2),o=n[0],c=n[1],s=function(e){return r.a.createElement("div",{className:"pd-5 header-elements ".concat(o===e?"active":""),onClick:function(){return function(e){c(e)}(e)}},e)};return r.a.createElement("div",{className:"app-header"},r.a.createElement("a",{href:"/hacker-news"},r.a.createElement(l,{imageName:"hacker-news-logo.gif",imageAlt:"hacker-news-logo",imageClassName:"hacker-news-logo"})),s("top"),r.a.createElement("div",{className:"pd-5"}," | "),s("new"))}),p=(n(52),Object(s.d)((function(e){var t=e.children,n=e.location,a=e.history;return r.a.createElement("div",{className:"dashboard"},r.a.createElement(m,{location:n,history:a}),r.a.createElement("div",{className:"main-content"},t))}))),f=n(8),h=n.n(f),d=n(18),A=n(12),g=n(23),w=n(16),v=n(37),E=n.n(v),b=(n(60),function(e){var t=e.rowValue,n=e.upVoteNews,a=e.handleDomainClick,o=e.removeNewsItem,c=t.num_comments,s=t.points,i=t.title,u=t.url,m=t.author,p=t.created_at,f=u&&t.url.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0];return r.a.createElement("div",{className:"row-container"},r.a.createElement("div",{className:"row-elements number-of-comments"},r.a.createElement("span",null,c||"-")),r.a.createElement("div",{className:"row-elements polls-upvotes-title-container"},r.a.createElement("span",{className:"upvotes-count"}," ",s||0),r.a.createElement(l,{imageClassName:"upvote-arrow-img",imageName:"upvote-arrow-img.gif",imageAlt:"upvote-arrow-img",handleClick:function(){n(t)}}),r.a.createElement("span",{className:"title"},r.a.createElement("a",{href:u},i))),r.a.createElement("div",{className:"row-elements username-doamin-hide-container"},r.a.createElement("span",{className:"link-domain",onClick:function(){a(f)}},f?"(".concat(f,") "):"---------"),r.a.createElement("span",{className:"ml-5 username"},"by "," ",r.a.createElement("span",{className:"author"},m)),r.a.createElement("span",{className:"ml-5 posted-when"},E()(p).fromNow()," "),r.a.createElement("span",{className:"ml-5 hide",onClick:function(){return o(t)}},"[ hide ]")))}),y=n(7),N=n.n(y),j={getAppJson:function(){return{"Content-Type":"application/json"}},getArrayBuffer:function(){return{"Content-Type":"arraybuffer"}},getBlob:function(){return{"Content-Type":"blob"}},getFormData:function(){return{"Content-Type":"multipart/form-data"}}},O="".concat("https://hn.algolia.com/api/v1/","search?hitsPerPage=").concat(30,"&"),k={fetchFrontPage:function(){return N()({url:"".concat(O,"tags=front_page"),method:"get",headers:j.getAppJson()})},fetchPageQuery:function(e){return N()({url:"".concat(O,"page=").concat(e),method:"get",headers:j.getAppJson()})},fetchStoryQuery:function(e){return N()({url:"".concat(O,"query=").concat(e,"&restrictSearchableAttributes=url"),method:"get",headers:j.getAppJson()})}},C="SET_COMPLETE_RESPONSE",x="SET_NEWS_LIST",L=x,S=C,I=(n(78),r.a.memo(Object(w.b)((function(e){var t=e.newsListReducer;return{newsList:t.newsList,completeResponse:t.completeResponse}}),(function(e){return{setNewsList:function(t){return e(function(e){return{type:L,payload:e}}(t))},setCompleteResponse:function(t){return e(function(e){return{type:S,payload:e}}(t))}}}))((function(e){var t=e.setNewsList,n=e.newsList,o=e.setCompleteResponse,c=(e.completeResponse,Object(a.useState)(0)),s=Object(i.a)(c,2),u=s[0],l=s[1],m=function(e){var a=Object(g.a)(n),r=n.findIndex((function(t){return t.objectID===e.objectID})),o=e.points+1,c=Object(A.a)({},e,{},{points:o});a.splice(r,1,c),t(a)},p=function(e){(function(){var n=Object(d.a)(h.a.mark((function n(){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.fetchStoryQuery(e);case 2:a=n.sent,console.log("getStoryQuery",a),o(a),t(a.data.hits);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()},f=function(e){var a=Object(g.a)(n),r=n.findIndex((function(t){return t.objectID===e.objectID}));a.splice(r,1),t(a)},w=n.map((function(e,t){return r.a.createElement(b,{key:"row-".concat(t),rowValue:e,upVoteNews:m,handleDomainClick:p,removeNewsItem:f})}));return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.fetchFrontPage();case 2:n=e.sent,o(n),t(n.data.hits),console.log("result",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"content-container"},w,r.a.createElement("div",{className:"more-text",onClick:function(){var e=u+1;l(e),function(){var n=Object(d.a)(h.a.mark((function n(){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.fetchPageQuery(e);case 2:a=n.sent,console.log("getPageQuery",a),o(a),t(a.data.hits);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}},"More"))})))),P=function(){return r.a.createElement(p,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/hacker-news",component:I})))},R=function(){return r.a.createElement(P,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(3),Q=(n(79),n(38)),D=x,T=C,V={newsList:[],completeResponse:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case T:return Object(A.a)({},e,{},{completeResponse:a});case D:return Object(A.a)({},e,{},{newsList:a});default:return e}},J=Object(B.combineReducers)({newsListReducer:_}),M=n(22),F=n(39),K={key:"reduxStore",storage:n.n(F).a},W=Object(M.a)(K,J),q=Object(B.compose)(Object(B.applyMiddleware)(Q.a)),U=n(40),G=n(6),Y={config:function(e,t){N.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),N.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))}},z=function(){var e=Object(B.createStore)(W,q);return{store:e,persistor:Object(M.b)(e)}}(),H=z.store,Z=z.persistor,X=Object(G.a)();Y.config(H,X),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),c.a.hydrate(r.a.createElement(w.a,{store:H},r.a.createElement(U.a,{loading:null,persistor:Z},r.a.createElement(s.b,{history:X},r.a.createElement(R,null)))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.067b657a.chunk.js.map